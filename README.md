<p align="center" >
  <img src="https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/main/Snapshots/Slogan.png" alt="NXNavigationExtension" title="NXNavigationExtension">
</p>

[![CocoaPods Compatible](https://img.shields.io/cocoapods/v/NXNavigationExtension.svg?style=flat)](https://img.shields.io/cocoapods/v/NXNavigationExtension.svg) ![Language](https://img.shields.io/github/languages/top/l1dan/NXNavigationExtension.svg?style=flat) [![MIT License](https://img.shields.io/github/license/l1dan/NXNavigationExtension.svg?style=flat)](https://opensource.org/licenses/mit-license.php) [![Platform](https://img.shields.io/cocoapods/p/NXNavigationExtension.svg?style=flat)](https://github.com/l1Dan/NXNavigationExtension/blob/main/README.md) [![GitHub last commit](https://img.shields.io/github/last-commit/l1Dan/NXNavigationExtension.svg?style=flat)](https://img.shields.io/github/last-commit/l1Dan/NXNavigationExtension)

ğŸ”¥ NXNavigationExtension æ˜¯ä¸º UINavigationBar è®¾è®¡çš„è½»é‡çº§çš„ã€ç®€å•çš„ã€å¯æ‰©å±•çš„åº“ï¼Œæ”¯æŒ SwiftUI å’Œ UIKitã€‚æ¡†æ¶å¯¹ç°æœ‰ä»£ç å…¥ä¾µéå¸¸å°ï¼Œåªéœ€è¦ç®€å•çš„å‡ ä¸ªæ–¹æ³•è°ƒç”¨å°±å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„åº”ç”¨åœºæ™¯ã€‚å¯èƒ½æ˜¯æœ€çœå¿ƒçš„ iOS å¯¼èˆªæ å¤„ç†æ¡†æ¶ä¹‹ä¸€ã€‚NXNavigationExtension æ¡†æ¶æœ¬èº«å’Œç¤ºä¾‹ä»£ç éƒ½å·²ç»é€‚é…æš—é»‘æ¨¡å¼å¯ä¾›å¤§å®¶å‚è€ƒã€‚

## ğŸ¯ ä»‹ç»å¤ªé•¿ä¸çœ‹ç³»åˆ—
### è§£å†³å¯¼èˆªæ å­˜åœ¨çš„å¤šä¸ªç—›ç‚¹
1. è§£å†³å¯¼èˆªæ èƒŒæ™¯ä¿®æ”¹ä¸æ–¹ä¾¿é—®é¢˜ã€‚
2. è§£å†³æ“ä½œä¸å½“å¯¼è‡´å¯¼èˆªæ é”™ä¹±é—®é¢˜ã€‚
3. è§£å†³å¯¼èˆªæ æ˜¾ç¤ºã€éšè—æ—¶é¡µé¢ä¹‹é—´è¿‡æ¸¡åŠ¨ç”»æœ‰å‰²è£‚æ„Ÿã€ä¸æµç•…é—®é¢˜ã€‚
4. è§£å†³ç‚¹å‡»è¿”å›æŒ‰é’®äº‹ä»¶æ— æ³•æ‹¦æˆªã€æ‰‹åŠ¿æ»‘åŠ¨è¿”å›äº‹ä»¶æ— æ³•æ‹¦æˆªé—®é¢˜ã€‚
5. æ‚¨ç”¨è¿‡ä¹‹åè§‰å¾—è¿˜ä¸é”™çš„è¯ï¼Œéº»çƒ¦å›æ¥ç»™æˆ‘ä¸ª Star ğŸŒŸ é¼“åŠ±ä¸‹å“¦ã€‚

## ğŸ‰ é¢„è§ˆ

[1]: https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/main/Snapshots/Preview1.gif
[2]: https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/main/Snapshots/Preview2.gif
[3]: https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/main/Snapshots/Preview3.gif
[4]: https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/main/Snapshots/Preview4.gif

| SwiftUI è·¯ç”± | å®Œå…¨è‡ªå®šä¹‰å¯¼èˆªæ  | è¿”å›äº‹ä»¶æ‹¦æˆª | ä¿®æ”¹å¯¼èˆªæ å¤–è§‚ |
| :----------: | :--------------: | :----------: | :------------: |
|    ![][1]    |      ![][2]      |    ![][3]    |     ![][4]     |

## ğŸŒˆ è¦æ±‚

|   Version   | Minimum iOS / macOS Target |         Frameworks          |  Note   |
| :---------: | :------------------------: | :-------------------------: | :-----: |
| 4.1.7 Later |   iOS 12.0 / macOS 10.15   | SwiftUIã€UIKitã€macCatalyst | Xcode15 |
| 4.1.5 Later |   iOS 11.0 / macOS 10.15   | SwiftUIã€UIKitã€macCatalyst | Xcode14 |
|    4.1.4    |   iOS 9.0 / macOS 10.15    | SwiftUIã€UIKitã€macCatalyst | Xcode13 |
|     3.x     |   iOS 9.0 / macOS 10.15    |     UIKitã€macCatalyst      |    /    |
|     2.x     |   iOS 11.0 / macOS 10.15   |     UIKitã€macCatalyst      |    /    |

## ğŸ­ ä¼˜ç‚¹

- æ²¡æœ‰å¯¹åŸç”Ÿå¯¼èˆªæ è§†å›¾å±‚çº§è¿›è¡Œä¿®æ”¹ï¼Œæ— éœ€æ‹…å¿ƒç³»ç»Ÿå‡çº§çš„å…¼å®¹æ€§é—®é¢˜ã€‚
- API è®¾è®¡é€šä¿—æ˜“æ‡‚ï¼Œå®¹æ˜“ä½¿ç”¨ã€‚
- æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œæ‰€æœ‰æ“ä½œåŸºäºåˆ†ç±»å®ç°ï¼Œä½è€¦åˆã€‚
- ç™½åå•æ¨¡å¼ï¼šæŒ‰éœ€æ³¨å†Œæ‰€ä½¿ç”¨çš„å¯¼èˆªæ§åˆ¶å™¨ï¼Œè¿™æ ·æ‰ä¸ä¼šå½±å“æ‰€æœ‰çš„å¯¼èˆªæ§åˆ¶å™¨å¤–è§‚ã€‚
- é€‚é… iOSã€iPadOSã€macOSã€æ¨ªç«–å±åˆ‡æ¢ã€æš—é»‘æ¨¡å¼ã€æ”¯æŒé˜¿æ‹‰ä¼¯è¯­ç­‰ä»å³å¾€å·¦çš„å¸ƒå±€æ–¹å¼ã€‚
- æä¾› SwiftUIã€UIKitã€macCatalyst æ¡†æ¶çš„æ”¯æŒã€‚
- æ”¯æŒ CocoaPodsã€Carthageã€Projectã€Swift Package Manager æ–¹å¼é›†æˆã€‚

## ğŸ‘ åŠŸèƒ½

ä¸‹é¢è¿™äº›ç‰¹åˆ«å®ç”¨çš„åŠŸèƒ½ï¼Œæ€»æœ‰ä¸€éƒ¨åˆ†é€‚åˆä½ çš„é¡¹ç›®

### åŸºæœ¬åŠŸèƒ½

- âœ…` è®¾ç½®å¯¼èˆªæ é€æ˜`
- âœ…` å®ç°ç³»ç»Ÿå¯¼èˆªæ æ¨¡ç³Šæ•ˆæœ`
- âœ…` è‡ªå®šä¹‰è¿”å›æŒ‰é’®å›¾ç‰‡`
- âœ…` è‡ªå®šä¹‰è¿”å›æŒ‰é’®`
- âœ…` è‡ªå®šä¹‰å¯¼èˆªæ æ¨¡ç³ŠèƒŒæ™¯`
- âœ…` ä¿®æ”¹è¿”å›æŒ‰é’®ç®­å¤´é¢œè‰²`
- âœ…` ä¿®æ”¹ç³»ç»Ÿè¿”å›æŒ‰é’®æ–‡å­—`
- âœ…` ä¿®æ”¹å¯¼èˆªæ æ ‡é¢˜é¢œè‰²`
- âœ…` ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯é¢œè‰²`
- âœ…` ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯å›¾ç‰‡`
- âœ…` è®¾ç½®å¯¼èˆªæ åº•éƒ¨é˜´å½±é¢œè‰²`
- âœ…` è®¾ç½®å¯¼èˆªæ åº•éƒ¨é˜´å½±å›¾ç‰‡`

### é«˜çº§åŠŸèƒ½

- âœ…` ç¦ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿`
- âœ…` å¯ç”¨å…¨å±æ»‘åŠ¨è¿”å›æ‰‹åŠ¿`
- âœ…` å¯¼èˆªæ è¿”å›äº‹ä»¶æ‹¦æˆª`
- âœ…` æ”¯æŒè§†å›¾æ§åˆ¶å™¨è½¬åœºå‘¨æœŸäº‹ä»¶`
- âœ…` ä»»ä¸€è§†å›¾æ§åˆ¶å™¨è·³è½¬`
- âœ…` SwiftUI è·¯ç”±`
- âœ…` å¯¼èˆªæ ç‚¹å‡»äº‹ä»¶ç©¿é€åˆ°åº•éƒ¨`
- âœ…` åŠ¨æ€ä¿®æ”¹å¯¼èˆªæ æ ·å¼`
- âœ…` æ›´æ–°å¯¼èˆªæ æ ·å¼`
- âœ…` æ¸å˜å¯¼èˆªæ æ ·å¼`
- âœ…` é•¿æŒ‰è¿”å›æŒ‰é’®æ˜¾ç¤ºèœå•åŠŸèƒ½`
- æ›´å¤šåŠŸèƒ½è¯·æŸ¥çœ‹ç¤ºä¾‹ä»£ç ...

## ğŸŒŸ å¼€å§‹ä½¿ç”¨

ä¸‹è½½ [NXNavigationExtension](https://github.com/l1Dan/NXNavigationExtension/archive/refs/heads/main.zip) ç¤ºä¾‹ä»£ç ã€‚

## ä½¿ç”¨ CocoaPods é›†æˆ

ä½¿ç”¨ [CocoaPods](https://cocoapods.org/) å°† NXNavigationExtension é›†æˆåˆ° Xcode é¡¹ç›®ä¸­ï¼Œéœ€è¦åœ¨ `Podfile` ä¸­æŒ‡å®šï¼š

```ruby
## For SwiftUI
pod 'NXNavigationExtension/SwiftUI'

## For UIKit
pod 'NXNavigationExtension'
```

### ä½¿ç”¨ Carthage ç®¡ç†

ä½¿ç”¨ [Carthage](https://github.com/Carthage/Carthage) ç®¡ç† NXNavigationExtension frameworkï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ `Cartfile` æ–‡ä»¶ä¸­ï¼š

```yaml
# For SwiftUI
github "l1Dan/NXNavigationExtension" # Requires
github "l1Dan/NXNavigationExtensionSwiftUI"

# For UIKit
github "l1Dan/NXNavigationExtension"

```

### ä½¿ç”¨ Swift Package Manager é›†æˆ

ä½¿ç”¨ [Swift Package Manager](https://swift.org/package-manager/) é›†æˆ NXNavigationExtensionï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ `Package.swift` æ–‡ä»¶çš„ä¾èµ–ä¸­ï¼š

```swift
dependencies: [
    .package(url: "https://github.com/l1Dan/NXNavigationExtension.git", .upToNextMajor(from: "4.1.9"))
]
```

## ğŸ“– ä½¿ç”¨æ•™ç¨‹

- é˜…è¯» [**SwiftUI Guide**](https://github.com/l1Dan/NXNavigationExtension/blob/main/Documentation/NXNavigationExtensionSwiftUI.md) æ–‡æ¡£ã€‚
- é˜…è¯» [**UIKit Guide**](https://github.com/l1Dan/NXNavigationExtension/blob/main/Documentation/NXNavigationExtensionUIKit.md) æ–‡æ¡£ã€‚

## ğŸ½ ä½¿ç”¨

æ‰€æœ‰å¯¹å¯¼èˆªæ å¤–è§‚çš„ä¿®æ”¹éƒ½æ˜¯åŸºäºè§†å›¾æ§åˆ¶å™¨ `UIViewController` ä¿®æ”¹çš„ï¼Œè€Œä¸æ˜¯åŸºäºå¯¼èˆªæ§åˆ¶å™¨ `UINavigationController` ä¿®æ”¹ï¼Œè¿™ç§è®¾è®¡é€»è¾‘æ›´åŠ ç¬¦åˆå®é™…åº”ç”¨åœºæ™¯ã€‚ä¹Ÿå°±æ˜¯è¯´è§†å›¾æ§åˆ¶å™¨ç®¡ç†è‡ªå·±çš„å¯¼èˆªæ ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¯¼èˆªæ§åˆ¶å™¨æ¥å…¨å±€ç®¡ç†ã€‚

1. ğŸ’‰ å¯¼å…¥æ¨¡å— `import NXNavigationExtension`ã€‚
2. ğŸ’‰ ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆåœ¨ `AppDelegate` ä¸­æ³¨å†Œéœ€è¦ä¿®æ”¹çš„å¯¼èˆªæ§åˆ¶å™¨ã€‚

âœ… æ¨è

åªéœ€è¦ä¸‹é¢è¿™ä¸€è¡Œä»£ç å°±å®Œæˆå¯¼èˆªæ§åˆ¶å™¨çš„æ³¨å†Œï¼Œç°åœ¨ä½ å¯ä»¥å°½æƒ…åœ°ä¿®æ”¹å¯¼èˆªæ çš„å¤–è§‚äº†ã€‚

```swift
// For YourNavigationController
NXNavigationConfiguration().registerNavigationControllerClasses([YourNavigationController.self])
```

æˆ–è€…

å½“ç„¶ä¹Ÿå¯ä»¥åŒæ—¶æ³¨å†Œå¤šä¸ªå¯¼èˆªæ§åˆ¶å™¨

```swift
NXNavigationConfiguration().registerNavigationControllerClasses([YourNavigationController.self, YourNavigationController2.self])
```

æˆ–è€…

è¿˜å¯ä»¥åŠ¨æ€ä¿®æ”¹å¯¼èˆªæ çš„å¤–è§‚ï¼ˆ`NXNavigationExtensionSwiftUI` æ¡†æ¶å°±æ˜¯åŸºäºè¿™ä¸ªç‰¹æ€§å®ç°çš„ï¼‰

```swift
let configuration = NXNavigationConfiguration.default
// é»˜è®¤é¦–é€‰é…ç½®ï¼ˆå•åˆ©å¯¹è±¡æ„å‘³ç€å¯¹æ‰€æœ‰æ³¨å†Œçš„å¯¼èˆªæ§åˆ¶å™¨ç”Ÿæ•ˆï¼‰
configuration.navigationBarAppearance.tintColor = .customTitle
configuration.registerNavigationControllerClasses([YourNavigationController.self, YourNavigationController2.self]) { navigationController, configuration in
    // For UINavigationControllerï¼Œé’ˆå¯¹ä¸åŒå¯¼èˆªæ§åˆ¶å™¨çš„ä¿®æ”¹
    if navigationController is YourNavigationController {
        // åŠ¨æ€ä¿®æ”¹å¯¼èˆªæ§åˆ¶å™¨çš„é»˜è®¤é¦–é€‰é…ç½®
        configuration.navigationBarAppearance.backgroundColor = .brown
        // åŠ¨æ€ä¿®æ”¹è§†å›¾æ§åˆ¶å™¨çš„é»˜è®¤é¦–é€‰é…ç½®
        navigationController.nx_prepareConfigureViewControllersCallback { viewController, configuration in
            // For UIViewController é’ˆå¯¹ä¸åŒè§†å›¾æ§åˆ¶å™¨çš„ä¿®æ”¹
            if viewController is MyViewController {
                configuration.navigationBarAppearance.backgroundColor = .red
            }
        }
    }
    return configuration
}
```

âŒ ä¸æ¨è

```swift
// UINavigationController ä¼šå½±å“æ‰€æœ‰çš„å¯¼èˆªæ§åˆ¶å™¨ï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨è¿™ç§æ–¹å¼æ³¨å†Œ
NXNavigationConfiguration().registerNavigationControllerClasses([UINavigationController.self])
```

**æ³¨æ„**ï¼š

- ğŸ‘‰ è™½ç„¶ç¤ºä¾‹ç¨‹åºä»£ç ä½¿ç”¨çš„æ˜¯ `Swift` è¯­è¨€å®ç°çš„ï¼Œä½†æ¡†æ¶è¿˜æ˜¯å¯ä»¥æ”¯æŒ `Objective-C` è¯­è¨€çš„ï¼Œå¦‚æœéœ€è¦ `Objective-C` ç¤ºä¾‹ç¨‹åºçš„ä»£ç å¯ä»¥æŸ¥çœ‹ [3.x](https://github.com/l1Dan/NXNavigationExtension/tree/3.x) åˆ†æ”¯ä»£ç ã€‚
- ğŸ‘‰ ä½¿ç”¨è¿™ä¸ªæ¡†æ¶ä¹‹å‰éœ€è¦å…ˆæ³¨å†Œå¯¼èˆªæ§åˆ¶å™¨ï¼Œç„¶åå†å»ä¿®æ”¹è¢«æ³¨å†Œçš„å¯¼èˆªæ§åˆ¶å™¨æ‰€ç®¡ç†çš„è§†å›¾æ§åˆ¶å™¨çš„å¯¼èˆªæ å¤–è§‚ã€‚
- ğŸ‘‰ ä¸ºäº†æœ‰æ•ˆé¿å…æ¡†æ¶æ±¡æŸ“åˆ°å…¶ä»–çš„å¯¼èˆªæ§åˆ¶å™¨ï¼Œè¯·ä¿æŒâ€œè°ä½¿ç”¨ï¼Œè°æ³¨å†Œâ€çš„åŸåˆ™ã€‚
- ğŸš« ä¸è¦ç›´æ¥æ³¨å†Œ `UINavigationController`ï¼Œä¼šå½±å“å…¨å±€å¯¼èˆªæ çš„å¤–è§‚ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ª `UINavigationController` çš„å­ç±»ï¼Œå¯¹è¿™ä¸ªå­ç±»è¿›è¡Œå¤–è§‚çš„è®¾ç½®ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ `setNavigationBarHidden:`ã€`setNavigationBarHidden:animated`ã€`setHidden:` ç­‰æ–¹æ³•æ˜¾ç¤ºæˆ–éšè—ç³»ç»Ÿå¯¼èˆªæ ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ç³»ç»Ÿå¯¼èˆªæ ä¿®æ”¹é€æ˜åº¦ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ç³»ç»Ÿå¯¼èˆªæ æˆ–å¯¼èˆªæ§åˆ¶å™¨ `appearance` ç›¸å…³å±æ€§ä¿®æ”¹ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ `<UIGestureRecognizerDelegate>` ç›¸å…³æ–¹æ³•ç¦ç”¨æ‰‹åŠ¿è¿”å›ã€‚
- â—ï¸ åœ¨æŸäº›æ¡ä»¶ä¸‹ï¼Œä¸æ¨èä½¿ç”¨ UIViewController çš„ `edgesForExtendedLayout = UIRectEdge(rawValue: 0)` å±æ€§è®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤æ–¹å¼å³å¯ï¼Œå…·ä½“åŸå› è¯·[æŸ¥çœ‹](https://github.com/l1Dan/NXNavigationExtension/issues/17)ã€‚
- ä¸€å¥è¯æ€»ç»“ï¼šåŸåˆ™å°±æ˜¯ä¸è¦ç›´æ¥ä¿®æ”¹ç³»ç»Ÿå¯¼èˆªæ æˆ–è€…å¯¼èˆªæ§åˆ¶å™¨çš„å¤–è§‚ï¼Œå¯ä»¥è®©æˆ‘ä»¬å°‘èµ°å¼¯è·¯ï¼ŒæŠŠè¿™äº›ç¹ççš„äº‹æƒ…éƒ½äº¤ç»™è¿™ä¸ªæ¡†æ¶å¤„ç†å§ã€‚

## ğŸ» åŸºæœ¬åŠŸèƒ½

### ä¿®æ”¹è¿”å›æŒ‰é’®ç®­å¤´é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController07_UpdateNavigationBar.swift)

```swift
override var nx_barTintColor: UIColor? {
    return isDarkMode ? .white : .black
}
```

## ä¿®æ”¹ç³»ç»Ÿè¿”å›æŒ‰é’®æ–‡å­—

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController07_UpdateNavigationBar.swift)

```swift
// éœ€è¦è®¾ç½®ä½¿ç”¨ç³»ç»Ÿè¿”å›æŒ‰é’®ï¼Œè¿™æ ·æ‰ä¼šæœ‰æ•ˆæœ
override var nx_useSystemBackButton: Bool {
    return true
}

override var nx_systemBackButtonTitle: String? {
    return backButtonTitle
}
```

## ä¿®æ”¹å¯¼èˆªæ æ ‡é¢˜é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController07_UpdateNavigationBar.swift)

```swift
override var nx_titleTextAttributes: [NSAttributedString.Key : Any]? {
    return [NSAttributedString.Key.foregroundColor: nx_barTintColor ?? (isDarkMode ? .white : .black)]
}
```

#### ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯é¢œè‰²

**å¯¼èˆªæ èƒŒæ™¯é¢œè‰²é»˜è®¤ä½¿ç”¨ç³»ç»Ÿè“è‰² `UIColor.systemBlue`ï¼Œè¿™æ ·å¤„ç†èƒ½å¤Ÿå¿«é€Ÿè¾¨åˆ«æ¡†æ¶æ˜¯å¦ç”Ÿæ•ˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è¿›è¡Œé‡å†™ï¼š**

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController01_BackgroundColor.swift)

```swift
// å…¨å±€ç»Ÿä¸€ä¿®æ”¹ï¼ˆä¸ä¼šè¦†ç›–åŸºäºè§†å›¾æ§åˆ¶å™¨çš„ä¿®æ”¹ï¼‰
let configuration = NXNavigationConfiguration.default
configuration.navigationBarAppearance.backgroundColor = .red

// åŸºäºè§†å›¾æ§åˆ¶å™¨ä¿®æ”¹ï¼ˆå¯ä»¥æ˜¯åŸºç±»è§†å›¾æ§åˆ¶å™¨ä¹Ÿæ˜¯å¯ä»¥æ˜¯ç‰¹å®šéœ€è¦ä¿®æ”¹çš„è§†å›¾æ§åˆ¶å™¨ï¼‰
override var nx_navigationBarBackgroundColor: UIColor? {
    return randomColor
}
```

#### ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController02_BackgroundImage.swift)

```swift
override var nx_navigationBarBackgroundImage: UIImage? {
    return UIImage.navigationBarBackground
}
```

#### è®¾ç½®å¯¼èˆªæ é€æ˜

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController03_Transparent.swift)

```swift
override var nx_navigationBarBackgroundColor: UIColor? {
    return .clear
}

// è®¾ç½®å¯¼èˆªæ åº•éƒ¨é˜´å½±é¢œè‰²
override var nx_shadowColor: UIColor? {
    return .clear
}
```

#### å®ç°ç³»ç»Ÿå¯¼èˆªæ æ¨¡ç³Šæ•ˆæœ

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController04_LikeSystemNavigationBar.swift)

```swift
override var nx_navigationBarBackgroundColor: UIColor? {
    return .clear
}

override var nx_useBlurNavigationBar: Bool {
    return true
}
```

### è®¾ç½®å¯¼èˆªæ åº•éƒ¨é˜´å½±é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController05_ShadowColor.swift)

```swift
override var nx_shadowColor: UIColor? {
    return .red
}
```

### è®¾ç½®å¯¼èˆªæ åº•éƒ¨é˜´å½±å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController06_ShadowImage.swift)

```swift
override var nx_shadowImage: UIImage? {
    return UIImage(named: "NavigationBarShadowImage")
}
```

### è‡ªå®šä¹‰è¿”å›æŒ‰é’®å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController07_CustomBackImage.swift)

```swift
override var nx_backImage: UIImage? {
    return UIImage(named: "NavigationBarBack")
}
```

### è‡ªå®šä¹‰è¿”å›æŒ‰é’®

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Basic/ViewController08_CustomBackView.swift)

```swift
override var nx_backButtonCustomView: UIView? {
    return backButton
}
```

---

## ğŸº é«˜çº§åŠŸèƒ½

#### ç¦ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController01_EdgePopGestureDisable.swift)

```swift
override var nx_disableInteractivePopGesture: Bool {
    return true
}
```

#### å¯ç”¨å…¨å±æ»‘åŠ¨è¿”å›æ‰‹åŠ¿

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController02_FullScreenPopGestureEnable.swift)

- å±€éƒ¨æœ‰æ•ˆï¼ˆåœ¨æ‰€å¤„é¡µé¢è®¾ç½®ï¼‰

```swift
override var nx_enableFullScreenInteractivePopGesture: Bool {
    return true
}
```

- å…¨å±€æœ‰æ•ˆ

```swift
let configuration = NXNavigationConfiguration.default
configuration.viewControllerPreferences.enableFullScreenInteractivePopGesture = true
```

### è®¾ç½®å¯¼èˆªæ éšè—ï¼ˆå¹¶ä¸æ˜¯çœŸçš„éšè—ï¼Œåªæ˜¯çœ‹èµ·æ¥éšè—äº†ï¼Œæ•´ä¸ªå¯¼èˆªæ åŒºåŸŸä¸èƒ½å¤„ç†ç”¨æˆ·äº¤äº’ï¼‰

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController05_NavigationBarDisable.swift)

```swift
// æ­¤æ“ä½œä¼šå°†å¯¼èˆªæ çš„èƒŒæ™¯è®¾ç½®ä¸ºé€æ˜ã€å¯¼èˆªæ æ‰€åœ¨åŒºåŸŸçš„åº•éƒ¨èƒ½å¤Ÿæ¥æ”¶åˆ°ç‚¹å‡»äº‹ä»¶ã€è¿”å›æŒ‰é’®ä¹Ÿå°†ä¸å­˜åœ¨ã€‚
// â€œéšè—â€å¯¼èˆªæ æ—¶ä¸è¦æ·»åŠ  UINavigationBar çš„ barButtonItem(s)ï¼Œè¿™æ ·å°±å¯ä»¥çœ‹èµ·æ¥çœŸçš„åƒå¯¼èˆªæ éšè—äº†ã€‚
// ä¸éšè—ç³»ç»Ÿå¯¼èˆªæ çš„åŸå› æ˜¯ï¼šå¯ä»¥è®©æ•´ä¸ªå¯¼èˆªæ çš„è¿‡æ¸¡æ›´åŠ å¹³æ»‘è‡ªç„¶ï¼Œå½“ç„¶ä¹Ÿä¸æ¨èé™¤æ­¤ä¹‹å¤–ä»»ä½•éšè—ç³»ç»Ÿå¯¼èˆªæ çš„æ–¹å¼ã€‚
override var nx_translucentNavigationBar: Bool {
    return true
}
```

### ç¦ç”¨**ç³»ç»Ÿ**å¯¼èˆªæ ç”¨æˆ·äº¤äº’ï¼ˆNXNavigationBar å¯ä»¥å¤„ç†ç”¨æˆ·äº¤äº’ï¼‰

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController09_ScrollChangeNavigationBar.swift)

```swift
override var systemNavigationBarUserInteractionDisabled: Bool {
    return true
}
```

### æ›´æ–°å¯¼èˆªæ æ ·å¼

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController07_UpdateNavigationBar.swift)

```swift
nx_setNeedsNavigationBarAppearanceUpdate()
```

å¦‚æœ**çŠ¶æ€æ **æ ·å¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¯·æ£€æŸ¥æ˜¯å¦éœ€è¦è°ƒç”¨æ–¹æ³• `setNeedsStatusBarAppearanceUpdate()`ï¼Œæˆ–è€…åœ¨ `UINavigationController` çš„å­ç±»ä¸­è®¾ç½®å¦‚ä¸‹ä»£ç ï¼š

```swift
override var childForStatusBarStyle: UIViewController? {
    return topViewController
}

override var childForStatusBarHidden: UIViewController? {
    return topViewController
}
```

#### å¯¼èˆªæ è¿”å›äº‹ä»¶æ‹¦æˆª

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController03_BackButtonEventIntercept.swift)

éœ€è¦éµå®ˆåè®® `<NXNavigationControllerDelegate>`ï¼Œå®ç°ä»£ç†æ–¹æ³•ï¼š

1. `NXNavigationInteractiveTypeCallNXPopMethod`: è°ƒç”¨ `nx_pop` ç³»åˆ—æ–¹æ³•è¿”å›äº‹ä»¶æ‹¦æˆªã€‚
2. `NXNavigationInteractiveTypeBackButtonAction`: ç‚¹å‡»è¿”å›æŒ‰é’®è¿”å›äº‹ä»¶æ‹¦æˆªã€‚
3. `NXNavigationInteractiveTypeBackButtonMenuAction`: é•¿æŒ‰è¿”å›æŒ‰é’®é€‰æ‹©èœå•è¿”å›äº‹ä»¶æ‹¦æˆªã€‚
4. `NXNavigationInteractiveTypePopGestureRecognizer`: ä½¿ç”¨æ‰‹åŠ¿äº¤äº’è¿”å›äº‹ä»¶æ‹¦æˆªã€‚

```swift
func nx_navigationController(_ navigationController: UINavigationController, willPop viewController: UIViewController, interactiveType: NXNavigationInteractiveType) -> Bool {
    switch interactiveType {
    case .backButtonAction:
        // Do something
        return false
    case .backButtonMenuAction:
        // Do something
        return false
    case .popGestureRecognizer:
        // Do something
        return false
    case .callNXPopMethod:
        // Do something
        return false
    default:
        // Continue back
        return true
    }
}
```

è‡ªå®šä¹‰è¿”å›æŒ‰é’®äº‹ä»¶éœ€è¦æ‹¦æˆªå¯ä»¥è°ƒç”¨ `nx_popViewControllerAnimated:`ã€`nx_popToViewController:animated:` æˆ– `nx_popToRootViewControllerAnimated:` ç­‰æ–¹æ³•æ¥è§¦å‘ä¸Šé¢çš„ä»£ç†å›è°ƒã€‚

### æ”¯æŒè§†å›¾æ§åˆ¶å™¨è½¬åœºå‘¨æœŸäº‹ä»¶

éœ€è¦éµå®ˆåè®® `<NXNavigationControllerDelegate>`ï¼Œå®ç°ä»£ç†æ–¹æ³•ï¼š

```swift
func nx_navigationController(_ navigationController: UINavigationController, processViewController viewController: UIViewController, navigationAction: NXNavigationAction) {
    switch navigationAction {
    case .unspecified: print("Unspecified")
    case .willPush: print("WillPush")
    case .didPush: print("DidPush")
    case .pushCancelled: print("PushCancelled")
    case .pushCompleted: print("PushCompleted")
    case .willPop: print("WillPop")
    case .didPop: print("DidPop")
    case .popCancelled: print("PopCancelled")
    case .popCompleted: print("PopCompleted")
    case .willSet: print("WillSet")
    case .didSet: print("DidSet")
    case .setCancelled: print("SetCancelled")
    case .setCompleted: print("SetCompleted")
    default: print("None")
    }
}
```

### ä»»ä¸€è§†å›¾æ§åˆ¶å™¨è·³è½¬

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController08_JumpToViewController.swift)

- ä»¥è·³è½¬åˆ° `ViewController08_JumpToViewController` ä¸ºä¾‹ï¼Œå¦‚æœä¹‹å‰æœ‰ Push è¿‡ `ViewController08_JumpToViewController` çš„å®ä¾‹ï¼Œåˆ™æœ€åä¼šè·³è½¬åˆ°è¿™ä¸ªè§†å›¾æ§åˆ¶å™¨ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ä¼šè°ƒç”¨ `block` æ‰§è¡Œæ’å…¥æ–°æ§åˆ¶å™¨çš„è§„åˆ™ã€‚
- æ‰§è¡Œæ­¤æ“ä½œä¹‹åï¼Œå¹¶ä¸ä¼šè·³è½¬åˆ°å¯¹åº”çš„è§†å›¾æ§åˆ¶å™¨ï¼Œä»…ä»…æ˜¯ä¿®æ”¹äº† NavigationController çš„ viewControllers å±æ€§ï¼Œå¦‚æœéœ€è¦è·³è½¬æ“ä½œï¼Œå¯ä»¥è°ƒç”¨ `pop` ç³»åˆ—æ–¹æ³•è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ‰‹åŠ¿æ»‘åŠ¨è¿”å›é¡µé¢ï¼Œè¿˜å¯ä»¥ç‚¹å‡»è¿”å›æŒ‰é’®è¿”å›é¡µé¢ã€‚

```swift
navigationController?.nx_setPreviousViewController(with: ViewController08_JumpToViewController.self, insertsInstanceToBelowWhenNotFoundUsing: {
    return ViewController08_JumpToViewController()
})
// æ‰§è¡Œè§†å›¾æ§åˆ¶å™¨è·³è½¬æ“ä½œï¼š
navigationController?.popViewController(animated: true)
```

æ„æ€æ˜¯ï¼šé¦–å…ˆæŸ¥æ‰¾ `navigationController?.viewControllers` æ˜¯å¦å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º `ViewController08_JumpToViewController.self` çš„å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸Šä¸€é¡µé¢ä¼šæ˜¾ç¤ºæ­¤è§†å›¾æ§åˆ¶å™¨ï¼Œæ²¡æœ‰æ‰¾åˆ°åˆ™ä½¿ç”¨ `ViewController08_JumpToViewController()` åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹å¯¹è±¡æ’å…¥åˆ° NavigationController çš„ viewControllers æ ˆçš„ä¸Šä¸€ä¸ªé¡µé¢ä¸­ã€‚

### é•¿æŒ‰è¿”å›æŒ‰é’®æ˜¾ç¤ºèœå•åŠŸèƒ½

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/main/Examples/Shared/UIKit/Advanced/ViewController08_JumpToViewController.swift)

```swift
override var nx_useSystemBackButton: Bool {
    return true
}
```

![BackButtonMenu](https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/main/Snapshots/BackButtonMenu.png)


## â­ï¸ å‚è€ƒé“¾æ¥

- [QMUI_iOS](https://github.com/Tencent/QMUI_iOS)
- [FDFullscreenPopGesture](https://github.com/forkingdog/FDFullscreenPopGesture)

## ğŸ“„ åè®®

NXNavigationExtension æ¡†æ¶æ˜¯åœ¨ MIT è®¸å¯ä¸‹å‘å¸ƒçš„ã€‚è¯¦æƒ…è¯·å‚è§ [LICENSE](https://github.com/l1Dan/NXNavigationExtension/blob/main/LICENSE)ã€‚
