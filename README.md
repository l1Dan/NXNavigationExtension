<p align="center" >
  <img src="https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/master/Snapshots/Slogan.png" alt="NXNavigationExtension" title="NXNavigationExtension">
</p>

[![CocoaPods Compatible](https://img.shields.io/cocoapods/v/NXNavigationExtension.svg?style=flat)](https://img.shields.io/cocoapods/v/NXNavigationExtension.svg) ![Language](https://img.shields.io/github/languages/top/l1dan/NXNavigationExtension.svg?style=flat) [![MIT Licence](https://img.shields.io/github/license/l1dan/NXNavigationExtension.svg?style=flat)](https://opensource.org/licenses/mit-license.php) [![Platform](https://img.shields.io/cocoapods/p/NXNavigationExtension.svg?style=flat)](https://github.com/l1Dan/NXNavigationExtension/blob/master/README.md) [![GitHub last commit](https://img.shields.io/github/last-commit/l1Dan/NXNavigationExtension.svg?style=flat)](https://img.shields.io/github/last-commit/l1Dan/NXNavigationExtension)

ğŸ”¥ NXNavigationExtension æ˜¯ä¸º iOS åº”ç”¨è®¾è®¡çš„ä¸€ä¸ªè½»é‡çº§çš„å¯¼èˆªæ å¤„ç†æ¡†æ¶ã€‚æ¡†æ¶å¯¹ç°æœ‰ä»£ç å…¥ä¾µéå¸¸å°ï¼Œåªéœ€è¦ç®€å•çš„å‡ ä¸ªæ–¹æ³•è°ƒç”¨å°±å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„åº”ç”¨åœºæ™¯ã€‚NXNavigationExtension å’Œ [ç¤ºä¾‹ç¨‹åºä»£ç ](https://github.com/l1Dan/NXNavigationExtension/archive/master.zip) éƒ½å·²ç»é€‚é…æš—é»‘æ¨¡å¼ï¼ˆDark Modeï¼‰ã€‚

## ğŸ‰ é¢„è§ˆ

![Preview](https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/master/Snapshots/Preview.png)

## ğŸŒŸ å¼€å§‹ä½¿ç”¨

ä¸‹è½½ [NXNavigationExtension](https://github.com/l1Dan/NXNavigationExtension/archive/master.zip) ç¤ºä¾‹ç¨‹åºä»£ç ã€‚

## ä½¿ç”¨ CocoaPods å®‰è£…

ä½¿ç”¨ CocoaPods å°† NXNavigationExtension é›†æˆåˆ° Xcode é¡¹ç›®ä¸­ï¼Œéœ€è¦åœ¨ `Podfile` ä¸­æŒ‡å®šï¼š

```ruby
pod 'NXNavigationExtension'
```

### ä½¿ç”¨ Carthage å®‰è£…

[Carthage](https://github.com/Carthage/Carthage) æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åŒ…ç®¡ç†å™¨ï¼Œå®ƒæ„å»ºä¾èµ–é¡¹å¹¶ä¸ºæ‚¨æä¾›äºŒè¿›åˆ¶æ¡†æ¶ã€‚ è¦é›†æˆ NXNavigationExtensionï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ `Cartfile` æ–‡ä»¶ä¸­ï¼š

```ogdl
github "l1Dan/NXNavigationExtension"
```

## ğŸŒˆ è¦æ±‚

æœ€æ–°ç‰ˆæœ¬æœ€ä½æ”¯æŒ iOS 9.0

| NXNavigationExtension Version | Minimum iOS Target | Minimum macOS Target |       Notes        |
| :---------------------------: | :----------------: | :------------------: | :----------------: |
|              3.x              |      iOS 9.0       |     macOS 10.15      | macOS: macCatalyst |
|              2.x              |       iOS 11       |     macOS 10.15      | macOS: macCatalyst |

## ä¼˜ç‚¹

- API è®¾è®¡é€šä¿—æ˜“æ‡‚ï¼Œå®¹æ˜“ä¸Šæ‰‹ã€‚
- æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œæ‰€æœ‰æ“ä½œåŸºäºæ–¹æ³•é‡å†™ï¼Œå¯¹é¡¹ç›®å…¥ä¾µè¾ƒå°ã€‚
- æŒ‰éœ€æ³¨å†Œå¯¼èˆªæ§åˆ¶å™¨ `UINavigationController` çš„å¤–è§‚ï¼Œè¿™æ ·æ‰ä¸ä¼šå½±å“æ‰€æœ‰çš„å¯¼èˆªæ§åˆ¶å™¨ã€‚
- æ²¡æœ‰å¯¹åŸç”Ÿå¯¼èˆªæ è§†å›¾å±‚çº§è¿›è¡Œä¿®æ”¹ï¼Œæ— éœ€æ‹…å¿ƒå‡çº§ç³»ç»Ÿå…¼å®¹æ€§é—®é¢˜ã€‚
- é€‚é… iOSã€iPadOSã€macOSï¼ŒDark Modeã€‚
- æ”¯æŒ CocoaPodsã€Carthageã€Project æ–¹å¼é›†æˆã€‚

## ğŸ‘ åŠŸèƒ½

ç‰¹åˆ«å®ç”¨çš„åŠŸèƒ½ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ çš„é¡¹ç›®

### åŸºæœ¬åŠŸèƒ½

- âœ…` è®¾ç½®å¯¼èˆªæ é€æ˜`
- âœ…` å®ç°ç³»ç»Ÿå¯¼èˆªæ æ¨¡ç³Šæ•ˆæœ`
- âœ…` è‡ªå®šä¹‰è¿”å›æŒ‰é’®å›¾ç‰‡`
- âœ…` è‡ªå®šä¹‰è¿”å›æŒ‰é’®`
- âœ…` è‡ªå®šä¹‰å¯¼èˆªæ æ¨¡ç³ŠèƒŒæ™¯`
- âœ…` ä¿®æ”¹è¿”å›æŒ‰é’®ç®­å¤´é¢œè‰²`
- âœ…` ä¿®æ”¹å¯¼èˆªæ æ ‡é¢˜é¢œè‰²`
- âœ…` ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯é¢œè‰²`
- âœ…` ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯å›¾ç‰‡`
- âœ…` ä¿®æ”¹å¯¼èˆªæ åº•éƒ¨çº¿æ¡é¢œè‰²`
- âœ…` ä¿®æ”¹å¯¼èˆªæ åº•éƒ¨çº¿æ¡å›¾ç‰‡`

### é«˜çº§åŠŸèƒ½

- âœ…` ç¦ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿`
- âœ…` å¯ç”¨å…¨å±æ»‘åŠ¨è¿”å›æ‰‹åŠ¿`
- âœ…` å¯¼èˆªæ è¿”å›äº‹ä»¶æ‹¦æˆª`
- âœ…` é‡å®šå‘ä»»ä¸€æ§åˆ¶å™¨è·³è½¬`
- âœ…` å¯¼èˆªæ ç‚¹å‡»äº‹ä»¶ç©¿é€åˆ°åº•éƒ¨`
- âœ…` åŠ¨æ€ä¿®æ”¹å¯¼èˆªæ æ ·å¼`
- âœ…` æ›´æ–°å¯¼èˆªæ æ ·å¼`
- âœ…` é•¿æŒ‰è¿”å›æŒ‰é’®æ˜¾ç¤ºèœå•åŠŸèƒ½`
- æ›´å¤šåŠŸèƒ½è¯·æŸ¥çœ‹ç¤ºä¾‹ç¨‹åº...

## ğŸ½ ä½¿ç”¨

æ‰€æœ‰å¯¹å¯¼èˆªæ å¤–è§‚çš„ä¿®æ”¹éƒ½æ˜¯åŸºäºè§†å›¾æ§åˆ¶å™¨ `UIViewController` ä¿®æ”¹çš„ï¼Œè€Œä¸æ˜¯åŸºäºå¯¼èˆªæ§åˆ¶å™¨ `UINavigationController` ä¿®æ”¹ï¼Œè¿™ç§è®¾è®¡é€»è¾‘æ›´åŠ ç¬¦åˆå®é™…åº”ç”¨åœºæ™¯ã€‚ä¹Ÿå°±æ˜¯è¯´è§†å›¾æ§åˆ¶å™¨ç®¡ç†è‡ªå·±çš„å¯¼èˆªæ ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¯¼èˆªæ§åˆ¶å™¨æ¥å…¨å±€ç®¡ç†ã€‚

1. ğŸ’‰ å¯¼å…¥å¤´æ–‡ä»¶ `#import <NXNavigationExtension/NXNavigationExtension.h>`
2. ğŸ’‰ ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆæ³¨å†Œéœ€è¦ä¿®æ”¹çš„å¯¼èˆªæ§åˆ¶å™¨ï¼Œä»¥ `FeatureNavigationController` å’Œ `OtherNavigationController` ä¸ºä¾‹ï¼š

âœ… æ¨è

```objc
// 1
NXNavigationConfiguration *configuration = [NXNavigationConfiguration defaultConfiguration];
configuration.navigationBarAppearance.tintColor = [UIColor customTitleColor];
if (@available(iOS 14.0, *)) {
    configuration.navigationControllerPreferences.menuSupplementBackButton = YES;
}
[NXNavigationBar registerNavigationControllerClass:[FeatureNavigationController class] withConfiguration:configuration];

// 2
NXNavigationConfiguration *otherConfiguration = [[NXNavigationConfiguration alloc] init];
otherConfiguration.navigationBarAppearance.backgroundColor = [UIColor redColor];
if (@available(iOS 14.0, *)) {
    otherConfiguration.navigationControllerPreferences.menuSupplementBackButton = YES;
}
[NXNavigationBar registerNavigationControllerClass:[OtherNavigationController class] withConfiguration:otherConfiguration];
```

âŒ ä¸æ¨è

```objc
NXNavigationConfiguration *configuration = [NXNavigationConfiguration defaultConfiguration];
configuration.navigationBarAppearance.tintColor = [UIColor customTitleColor];
if (@available(iOS 14.0, *)) {
    configuration.navigationControllerPreferences.menuSupplementBackButton = YES;
}
[NXNavigationBar registerNavigationControllerClass:[UINavigationController class] withConfiguration:configuration];

// OR

[NXNavigationBar registerNavigationControllerClass:[UINavigationController class]];
```

**æ³¨æ„**ï¼š

- ğŸ‘‰ ä½¿ç”¨ `NXNavigationExtension` ä¹‹å‰éœ€è¦å…ˆæ³¨å†Œå¯¼èˆªæ§åˆ¶å™¨ï¼Œæ³¨å†Œä¹‹åå¯¹å¯¼èˆªæ çš„ä¿®æ”¹æ‰ä¼šç”Ÿæ•ˆï¼Œä¹Ÿä»…é™äºä¿®æ”¹å·²ç»æ³¨å†Œçš„å¯¼èˆªæ§åˆ¶å™¨ä»¥åŠå­ç±»æ‰€ç®¡ç†çš„è§†å›¾æ§åˆ¶å™¨ï¼Œ~~å¯¹äºå­ç±»å¯¼èˆªæ§åˆ¶å™¨æ‰€ç®¡ç†çš„è§†å›¾æ§åˆ¶å™¨æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„~~ã€‚*3.4.9*åŠä»¥åçš„ç‰ˆæœ¬å·²ç»å¯ä»¥ã€‚
- ğŸ‘‰ ä¸ºäº†æœ‰æ•ˆé¿å…æ¡†æ¶æ±¡æŸ“åˆ°å…¶ä»–çš„å¯¼èˆªæ§åˆ¶å™¨ï¼Œè¯·ä¿æŒâ€œè°ä½¿ç”¨ï¼Œè°æ³¨å†Œâ€çš„åŸåˆ™ã€‚
- ğŸš« ä¸è¦ç›´æ¥æ³¨å†Œ `UINavigationController`ï¼Œä¼šå½±å“å…¨å±€å¯¼èˆªæ çš„å¤–è§‚ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ª `UINavigationController` çš„å­ç±»ï¼Œå¯¹è¿™ä¸ªå­ç±»è¿›è¡Œå¤–è§‚çš„è®¾ç½®ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ `setNavigationBarHidden:`ã€`setNavigationBarHidden:animated`ã€`setHidden:` ç­‰æ–¹æ³•æ˜¾ç¤ºæˆ–éšè—ç³»ç»Ÿå¯¼èˆªæ ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ç³»ç»Ÿå¯¼èˆªæ ä¿®æ”¹é€æ˜åº¦ã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ç³»ç»Ÿå¯¼èˆªæ æˆ–å¯¼èˆªæ§åˆ¶å™¨ `appearance` ç›¸å…³å±æ€§ä¿®æ”¹ã€‚
- ğŸš« ~~ä¸è¦ä½¿ç”¨å…¨å±€ `edgesForExtendedLayout` ä¿®æ”¹~~ã€‚*3.4.2*åŠä»¥åçš„ç‰ˆæœ¬å·²ç»æ”¯æŒã€‚
- ğŸš« ä¸è¦ä½¿ç”¨ `<UIGestureRecognizerDelegate>` ç›¸å…³æ–¹æ³•ç¦ç”¨æ‰‹åŠ¿è¿”å›ã€‚
- ğŸ’‰ ä¸€å¥è¯â€œä¸è¦ç›´æ¥æ“ä½œå¯¼èˆªæ æˆ–è€…å¯¼èˆªæ§åˆ¶å™¨ï¼ŒæŠŠè¿™äº›éƒ½äº¤ç»™ `NXNavigationExtension` å¤„ç†å§â€œã€‚

å»ºè®®ï¼šé™¤éä½ éå¸¸æ˜ç™½ä¿®æ”¹å…¨å±€æ€§ä¸œè¥¿çš„åæœï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹ï¼Œè¿™ä¹ˆåšçš„åŸå› å°±æ˜¯ä¸ºäº†å‡å°‘èµ°ä¸€äº›å¼¯è·¯ï¼

## ğŸ» åŸºæœ¬åŠŸèƒ½

### ä¿®æ”¹è¿”å›æŒ‰é’®ç®­å¤´é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController07_ScrollChangeNavigationBar.m)

**å¯¼èˆªæ è¿”å›æŒ‰é’®é¢œè‰²é»˜è®¤ä½¿ç”¨ç³»ç»Ÿè“è‰² `[UIColor systemBlueColor]`ï¼Œè¦æ”¹å˜è¿”å›æŒ‰é’®é¢œè‰²å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼é…åˆï¼š**

```objc
// å…¨å±€ç»Ÿä¸€ä¿®æ”¹ï¼Œä¸ä¼šè¦†ç›–åŸºäºè§†å›¾æ§åˆ¶å™¨ä¿®æ”¹
NXNavigationBarAppearance.standardAppearance.tintColor = [UIColor redColor];

// åŸºäºè§†å›¾æ§åˆ¶å™¨ä¿®æ”¹
- (UIColor *)nx_barTintColor {
    return self.isDarkMode ? [UIColor whiteColor] : [UIColor blackColor];
}
```

## ä¿®æ”¹å¯¼èˆªæ æ ‡é¢˜é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController07_ScrollChangeNavigationBar.m)

```objc
- (NSDictionary<NSAttributedStringKey,id> *)nx_titleTextAttributes {
    return @{NSForegroundColorAttributeName: [self nx_barTintColor]};
}
```

#### ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController01_BackgroundColor.m)

```objc
- (UIColor *)nx_navigationBarBackgroundColor {
    return [UIColor customDarkGrayColor];
}
```

#### ä¿®æ”¹å¯¼èˆªæ èƒŒæ™¯å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController02_BackgroundImage.m)

```objc
- (UIImage *)nx_navigationBarBackgroundImage {
    return UIImage.navigationBarbackgroundImage;
}
```

#### è®¾ç½®å¯¼èˆªæ é€æ˜

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController03_Transparent.m)

```objc
- (UIColor *)nx_navigationBarBackgroundColor {
    return [UIColor clearColor];
}
```

#### å®ç°ç³»ç»Ÿå¯¼èˆªæ æ¨¡ç³Šæ•ˆæœ

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController04_LikeSystemBlurNavigationBar.m)

```objc
- (UIColor *)nx_navigationBarBackgroundColor {
    return [UIColor clearColor];
}

- (BOOL)nx_useBlurNavigationBar {
    return YES;
}
```

### ä¿®æ”¹å¯¼èˆªæ åº•éƒ¨çº¿æ¡é¢œè‰²

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController05_ShadowColor.m)

```objc
- (UIColor *)nx_shadowImageTintColor {
    return [UIColor redColor];
}
```

### ä¿®æ”¹å¯¼èˆªæ åº•éƒ¨çº¿æ¡é¢œè‰²å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController06_ShadowImage.m)

```objc
- (UIColor *)nx_shadowImageTintColor {
    return [UIColor redColor];
}
```

### ä¿®æ”¹å¯¼èˆªæ åº•éƒ¨çº¿æ¡é¢œè‰²å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController06_ShadowImage.m)

```objc
- (UIImage *)nx_shadowImage {
    return [UIImage imageNamed:@"NavigationBarShadowImage"];
}
```

### è‡ªå®šä¹‰è¿”å›æŒ‰é’®å›¾ç‰‡

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController07_CustomBackButtonImage.m)

```objc
- (UIImage *)nx_backImage {
    return [UIImage imageNamed:@"NavigationBarBack"];
}
```

### è‡ªå®šä¹‰è¿”å›æŒ‰é’®

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Basic/Controllers/ViewController08_CustomBackButton.m)

```objc
- (UIView *)nx_backButtonCustomView {
    UIButton *backButton = [UIButton buttonWithType:UIButtonTypeCustom];
    [backButton setTitle:@"ğŸ˜‹" forState:UIControlStateNormal];
    [backButton setImage:[UIImage imageNamed:@"NavigationBarBack"] forState:UIControlStateNormal];
    [backButton setTitleColor:UIColor.customDarkGrayColor forState:UIControlStateNormal];
    return backButton;
}
```

---

## ğŸº é«˜çº§åŠŸèƒ½

#### ç¦ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController01_DisablePopGesture.m)

```objc
- (BOOL)nx_disableInteractivePopGesture {
    return YES;
}
```

#### å¯ç”¨å…¨å±æ»‘åŠ¨è¿”å›æ‰‹åŠ¿

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController02_FullPopGesture.m)

- å±€éƒ¨æœ‰æ•ˆï¼ˆåœ¨æ‰€å¤„é¡µé¢è®¾ç½®ï¼‰

```objc
- (BOOL)nx_enableFullscreenInteractivePopGesture {
    return YES;
}
```

- å…¨å±€æœ‰æ•ˆï¼ˆåœ¨è°ƒç”¨`registerNavigationControllerClass:`æˆ–`registerNavigationControllerClass:withConfiguration:`æ–¹æ³•ä¹‹å‰è®¾ç½®ï¼‰

```objc
[NXNavigationControllerPreferences standardPreferences].fullscreenInteractivePopGestureEnabled = YES;

// OR

NXNavigationConfiguration *configuration = [[NXNavigationConfiguration alloc] init];
configuration.navigationControllerPreferences.fullscreenInteractivePopGestureEnabled = YES;

```

#### å¯¼èˆªæ è¿”å›äº‹ä»¶æ‹¦æˆª

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController03_BackEventIntercept.m)

éœ€è¦éµå®ˆåè®® `<NXNavigationInteractable>`ï¼Œå®ç°ä»£ç†æ–¹æ³•ï¼š

```objc
- (BOOL)nx_navigationController:(__kindof UINavigationController *)navigationController willPopViewController:(__kindof UIViewController *)viewController interactiveType:(NXNavigationInteractiveType)interactiveType {
    // TODO...
    return YES;
}
```

1. `NXNavigationInteractiveTypeCallNXPopMethod`: è°ƒç”¨ `nx_pop` ç³»åˆ—æ–¹æ³•è¿”å›äº‹ä»¶æ‹¦æˆªã€‚
2. `NXNavigationInteractiveTypeBackButtonAction`: ç‚¹å‡»è¿”å›æŒ‰é’®è¿”å›äº‹ä»¶æ‹¦æˆªã€‚
3. `NXNavigationInteractiveTypeBackButtonMenuAction`: é•¿æŒ‰è¿”å›æŒ‰é’®é€‰æ‹©èœå•è¿”å›äº‹ä»¶æ‹¦æˆªã€‚
4. `NXNavigationInteractiveTypePopGestureRecognizer`: ä½¿ç”¨æ‰‹åŠ¿äº¤äº’è¿”å›äº‹ä»¶æ‹¦æˆªã€‚

```objc
- (BOOL)nx_navigationController:(__kindof UINavigationController *)navigationController willPopViewController:(__kindof UIViewController *)viewController interactiveType:(NXNavigationInteractiveType)interactiveType {
    NSLog(@"interactiveType: %zd %@", interactiveType, viewController);

    if (self.currentItemType == EventInterceptItemTypeBackButtonAction && interactiveType == NXNavigationInteractiveTypeBackButtonAction) {
        [self showAlertControllerWithViewController:viewController];
        return NO;
    }

    if (self.currentItemType == EventInterceptItemTypeBackButtonMenuAction && interactiveType == NXNavigationInteractiveTypeBackButtonMenuAction) {
        [self showAlertControllerWithViewController:viewController];
        return NO;
    }

    if (self.currentItemType == EventInterceptItemTypePopGestureRecognizer && interactiveType == NXNavigationInteractiveTypePopGestureRecognizer) {
        [self showAlertControllerWithViewController:viewController];
        return NO;
    }

    if (self.currentItemType == EventInterceptItemTypeCallNXPopMethod && interactiveType == NXNavigationInteractiveTypeCallNXPopMethod) {
        [self showAlertControllerWithViewController:viewController];
        return NO;
    }

    if (self.currentItemType == EventInterceptItemTypeAll) {
        [self showAlertControllerWithViewController:viewController];
        return NO;
    }

    return YES;
}
```

è‡ªå®šä¹‰è¿”å›æŒ‰é’®äº‹ä»¶éœ€è¦æ‹¦æˆªå¯ä»¥è°ƒç”¨ `nx_popViewControllerAnimated:`ã€`nx_popToViewController:animated:` æˆ– `nx_popToRootViewControllerAnimated:` ç­‰æ–¹æ³•æ¥è§¦å‘ä¸Šé¢çš„ä»£ç†å›è°ƒã€‚

### é‡å®šå‘ä»»ä¸€æ§åˆ¶å™¨è·³è½¬

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController04_RedirectViewController.m)

- ä»¥é‡å®šå‘åˆ° `RandomColorViewController` ä¸ºä¾‹ï¼Œå¦‚æœä¹‹å‰æœ‰ Push è¿‡ `RandomColorViewController` çš„å®ä¾‹ï¼Œåˆ™æœ€åä¼šè·³è½¬åˆ°å®ä¾‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šè°ƒç”¨ `block`ï¼Œå¦‚æœ `block == NULL` æˆ–è€… `return nil;` åˆ™é‡å®šå‘è·³è½¬ä¸ä¼šå‘ç”Ÿã€‚
- æ‰§è¡Œé‡å®šå‘æ“ä½œä¹‹åï¼Œå¹¶ä¸ä¼šç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„è§†å›¾æ§åˆ¶å™¨ï¼Œå¦‚æœéœ€è¦ `è·³è½¬` æ“ä½œï¼Œå¯ä»¥è°ƒç”¨ `popViewControllerAnimated:` æ–¹æ³•è¿”å›é¡µé¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ‰‹åŠ¿æ»‘åŠ¨è¿”å›é¡µé¢ï¼Œè¿˜å¯ä»¥ç‚¹å‡»è¿”å›æŒ‰é’®è¿”å›é¡µé¢ã€‚

```objc
[self.navigationController nx_redirectViewControllerClass:[RandomColorViewController class] initializeStandbyViewControllerUsingBlock:^__kindof UIViewController * _Nonnull {
    return [[RandomColorViewController alloc] init];
}];
```

**æ³¨æ„**ï¼š
æ‰§è¡Œä¸Šé¢ä»£ç ä¹‹åå¹¶ä¸ä¼šç«‹å³è·³è½¬ï¼Œä¸‹é¢ä»£ç å¯ä»¥å®ç°ç«‹å³è·³è½¬ï¼š

```objc
[self.navigationController nx_redirectViewControllerClass:[RandomColorViewController class] initializeStandbyViewControllerUsingBlock:^__kindof UIViewController * _Nonnull {
    return [[RandomColorViewController alloc] init];
}];
[self.navigationController popViewControllerAnimated:YES];
```

ä¸Šé¢ä»£ç å¤§æ„ä¸ºï¼šé¦–å…ˆæŸ¥æ‰¾ `self.navigationController.ViewConrollers` æ˜¯å¦å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º `[RandomColorViewController class]` çš„å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨åˆ™é‡å®šå‘åˆ°æ­¤è§†å›¾æ§åˆ¶å™¨ï¼Œæ²¡æœ‰åˆ™ä½¿ç”¨ `[[RandomColorViewController alloc] init]` æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ `[RandomColorViewController class]` çš„å®ä¾‹å¯¹è±¡ã€‚

### å¯¼èˆªæ ç‚¹å‡»äº‹ä»¶ç©¿é€åˆ°åº•éƒ¨

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController06_ClickEventHitToBack.m)

```objc
- (BOOL)nx_translucentNavigationBar {
    return YES;
}
```

### åŠ¨æ€ä¿®æ”¹å¯¼èˆªæ æ ·å¼

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController07_ScrollChangeNavigationBar.m)

```objc
- (BOOL)nx_contentViewWithoutNavigtionBar {
    return YES;
}
```

å¯ä»¥åŠ¨æ€è°ƒæ•´ contentView é€æ˜åº¦å®ç°ï¼š`self.nx_navigationBar.contentView.alpha = value`

### æ›´æ–°å¯¼èˆªæ æ ·å¼

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Common/Controllers/RandomColorViewController.m)

```objc
[self nx_setNeedsNavigationBarAppearanceUpdate];
```

å¦‚æœ**çŠ¶æ€æ **æ ·å¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¯·æ£€æŸ¥æ˜¯å¦éœ€è¦è°ƒç”¨æ–¹æ³• `[self setNeedsStatusBarAppearanceUpdate]`ï¼Œæˆ–è€…åœ¨ `UINavigationController` çš„å­ç±»ä¸­è®¾ç½®å¦‚ä¸‹ä»£ç ï¼š

```objc
- (UIViewController *)childViewControllerForStatusBarStyle {
    return self.topViewController;
}

- (UIViewController *)childViewControllerForStatusBarHidden {
    return self.topViewController;
}
```

### é•¿æŒ‰è¿”å›æŒ‰é’®æ˜¾ç¤ºèœå•åŠŸèƒ½

ğŸ“ [ç¤ºä¾‹ä»£ç ](https://github.com/l1Dan/NXNavigationExtension/blob/master/NXNavigationExtensionDemo/Feature/Advanced/Controllers/ViewController04_RedirectViewController.m)

- è®¾ç½® NXNavigationControllerPreferences `menuSupplementBackButton` å±æ€§

```objc
if (@available(iOS 14.0, *)) {
    [NXNavigationControllerPreferences standardPreferences].menuSupplementBackButton = YES;
}

// OR

NXNavigationConfiguration *configuration = [[NXNavigationConfiguration alloc] init];
if (@available(iOS 14.0, *)) {
    configuration.navigationControllerPreferences.menuSupplementBackButton = YES;
}

```

- è¿˜éœ€è¦åœ¨é¡µé¢å†…è®¾ç½®

```objc
- (BOOL)nx_backButtonMenuEnabled {
    return YES;
}
```

![BackButtonMenu](https://raw.githubusercontent.com/l1Dan/NXNavigationExtension/master/Snapshots/BackButtonMenu.png)

## ğŸ“„ åè®®

NXNavigationExtension æ¡†æ¶æ˜¯åœ¨ MIT è®¸å¯ä¸‹å‘å¸ƒçš„ã€‚è¯¦æƒ…è¯·å‚è§ [LICE*N*SE](https://github.com/l1Dan/NXNavigationExtension/blob/master/LICENSE)ã€‚
